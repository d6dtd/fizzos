# fizzos
## Introduction  
一个支持x86处理器的32位操作系统

## Envoirment  
* OS: Ubuntu 20.04 LTS
* Bochs 2.6.11

## Build

	./build.sh
## Technical points
### 内存管理
* 使用伙伴算法分配页框。(暂时用不到连续的页框)
* 通过页框中内嵌链表的方式分配小块内存
* 实现了缺页中断和写保护异常处理
### 文件系统
* 采用类UNIX二级索引结构
* 使用了目录项缓存，当关闭一个文件时，对应的目录项会放到LRU链表上，当目录项从LRU链表上删掉时，再关闭对应的inode (还没实现)
### 中断
* 中断全部放在上半部执行
### 设备
* 键盘:解析键盘扫描码，使用条件变量同步键盘输入和读出
* 显示器:使用互斥锁同步屏幕输入
### 系统调用
* 通过中断门实现，不会关中断，大多数可以一次完成系统调用后返回，除非自己主动阻塞
### 进程
* 通过fork系统调用创建进程，fork使用了写时拷贝
* 通过exec系统调用执行其他文件，只支持ELF32格式
* 使用带优先级的时间片轮转调度，与内核线程一起调度
### shell
* 实现了cd、pwd、mkdir内部命令和echo外部命令的部分功能
### 同步
* 实现了信号量、互斥锁、条件变量
### reference
* 操作系统真象还原
* 一个操作系统的实现
* linux 0.11
* linux 2.6
* linux设计与实现
* 深入理解linux内核
* unix环境高级编程
* 80386 Manual